{% extends "base-settings-module.html" %}
{% from "helpers/_navbarlefthelper.html" import render_nav_bar_left %}

{% block title %}
    Content Analyzer
{% endblock %}

{% block header_import %}
    <link rel="stylesheet" href="{{ url_for('static', filename='style/ca-upload.css') }}">
{% endblock %}

{% block sub_header %} <h4>Setup Dataset</h4> {% endblock %}

{% block header %}
    <h1>CONTENT ANALYZER</h1>
    <hr>
{% endblock %}

{% block nav_bar_left %}
    {{ render_nav_bar_left(project, "Upload", "ContentAnalyzer") }}
{% endblock %}

{% block form_content %}

        <div class="row">
            <div class="col-4"></div>
            <div class="col-4">
                <form id="ca-form-upload" method="post" enctype=multipart/form-data>
                    <table>
                        <tr>
                            <td class="form-label"> Output directory name </td>
                            <td> <input type="text" name="outputDir" value="{{ project.content_analyzer.output_directory }}"> </td>
                        </tr>
                        <tr>
                            <td class="form-label"> Dataset </td>
                            <td> <input type="file" name="pathDataset"> </td>
                        </tr>
                        <tr>
                            <td class="form-label"> Content type </td>
                            <td>
                                <div class="wrapper-radio">
                                    {% if project.content_analyzer.analyzer_type == AnalyzerType.ITEMS %}
                                        <input type="radio" name="analyzerType" value="Items" checked>
                                    {% else %}
                                        <input type="radio" name="analyzerType" value="Items">
                                    {% endif %}
                                    <label>Items</label>
                                </div>
                                <div class="wrapper-radio">
                                    {% if project.content_analyzer.analyzer_type == AnalyzerType.USERS %}
                                        <input type="radio" name="analyzerType" value="Users" checked>
                                    {% else %}
                                        <input type="radio" name="analyzerType" value="Users">
                                    {% endif %}
                                    <label>Users</label>
                                </div>
                            </td>
                        </tr>
                    </table>
                </form>
            </div>
        </div>
        <div class="row">
                <div class="wrapper-errors">
                {% for error in list_errors %}
                    <div class="div-error">
                        {{ error | safe }}
                    </div>
                {% endfor %}
            </div>
        </div>
        <div class="row">
            <div class="col-4"></div>
            <div class="col-4">
                <div id="wrapper-continue">
                    <button form="ca-form-upload" type="submit" >
                        <span>Save and continue to next section</span>
                    </button>
                </div>
            </div>
        </div>
{% endblock %}
